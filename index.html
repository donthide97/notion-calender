<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <style>
        :root {
            --bg-mint: #a2d9ce;
            --frame-purple: #c39bd3;
            --flap-bg: #222;
            --text-white: #ffffff;
            --anim-speed: 0.6s;
            --gap: 5px;
            --digit-width: 90px;
            --digit-height: 180px;
            --font-size: 110px;
        }

        body { margin: 0; height: 100vh; display: flex; justify-content: center; align-items: center; background: var(--bg-mint); font-family: 'Arial Black', sans-serif; transform: scale(0.3); }
        .outer-frame { background: var(--frame-purple); padding: 35px; border-radius: 70px; box-shadow: inset 0 -10px 0 rgba(0,0,0,0.2), 0 25px 50px rgba(0,0,0,0.15); }
        .inner-face { background: #fdfefe; padding: 50px; border-radius: 50px; display: flex; gap: 20px; align-items: center; border: 5px solid rgba(0,0,0,0.05); }

        .flip-unit {
            position: relative; width: var(--digit-width); height: var(--digit-height);
            perspective: 1000px;
        }

        .upper, .lower {
            position: absolute; left: 0; width: 100%; height: calc(50% - (var(--gap) / 2));
            background: var(--flap-bg); color: var(--text-white);
            overflow: hidden; text-align: center; font-size: var(--font-size);
            backface-visibility: hidden;
        }

        .upper { top: 0; border-radius: 10px 10px 0 0; line-height: var(--digit-height); border-bottom: 1px solid rgba(0,0,0,0.5); z-index: 1; }
        .lower { bottom: 0; border-radius: 0 0 10px 10px; line-height: 0; z-index: 2; }

        .flip-unit::before {
            content: ''; position: absolute; top: 50%; left: -5px; right: -5px;
            height: 6px; background: #444; z-index: 10; border-radius: 3px; transform: translateY(-50%);
        }

        .leaf {
            position: absolute; top: 0; left: 0; width: 100%; height: calc(50% - (var(--gap) / 2));
            z-index: 5; transform-origin: bottom;
            transform-style: preserve-3d;
            transition: none; 
        }

        .leaf-front, .leaf-back {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            backface-visibility: hidden; background: var(--flap-bg); color: var(--text-white);
            text-align: center; font-size: var(--font-size); overflow: hidden;
        }

        .leaf-front { border-radius: 10px 10px 0 0; line-height: var(--digit-height); border-bottom: 1px solid rgba(0,0,0,0.5); }
        .leaf-back { transform: rotateX(-270deg); border-radius: 0 0 10px 10px; line-height: 0; }

        .flipping .leaf { 
            transition: transform var(--anim-speed) ease-in-out;
            transform: rotateX(-180deg); 
        }

        /* Kalender Optimierung */
        .calendar { 
            display: flex; 
            flex-direction: column; 
            gap: 10px; 
            width: 200px; /* Definierte Basisbreite */
            margin-left: 15px;
        }

        .cal-box { 
            background: linear-gradient(to bottom, #333 50%, #222 50%); 
            color: white; 
            padding: 15px 5px; 
            border-radius: 12px; 
            text-align: center; 
            font-size: 22px; 
            box-sizing: border-box;
            width: 100%;
        }

        .cal-sub-row {
            display: grid;
            grid-template-columns: 1fr 1fr; /* Exakt 50/50 Teilung */
            gap: 10px;
            width: 100%;
        }
    </style>
</head>
<body>

<div class="outer-frame">
    <div class="inner-face">
        <div id="h-group" style="display:flex; gap:10px;">
            <div class="flip-unit"><div class="upper">0</div><div class="lower">0</div><div class="leaf"><div class="leaf-front">0</div><div class="leaf-back">0</div></div></div>
            <div class="flip-unit"><div class="upper">0</div><div class="lower">0</div><div class="leaf"><div class="leaf-front">0</div><div class="leaf-back">0</div></div></div>
        </div>
        <div class="separator" style="font-size:80px; color:#333;">:</div>
        <div id="m-group" style="display:flex; gap:10px;">
            <div class="flip-unit"><div class="upper">0</div><div class="lower">0</div><div class="leaf"><div class="leaf-front">0</div><div class="leaf-back">0</div></div></div>
            <div class="flip-unit"><div class="upper">0</div><div class="lower">0</div><div class="leaf"><div class="leaf-front">0</div><div class="leaf-back">0</div></div></div>
        </div>
        <div class="separator" style="font-size:80px; color:#333;">:</div>
        <div id="s-group" style="display:flex; gap:10px;">
            <div class="flip-unit"><div class="upper">0</div><div class="lower">0</div><div class="leaf"><div class="leaf-front">0</div><div class="leaf-back">0</div></div></div>
            <div class="flip-unit"><div class="upper">0</div><div class="lower">0</div><div class="leaf"><div class="leaf-front">0</div><div class="leaf-back">0</div></div></div>
        </div>
        
        <div class="calendar">
            <div class="cal-box" id="dayName">---</div>
            <div class="cal-sub-row">
                <div class="cal-box" id="month">---</div>
                <div class="cal-box" id="dayNum">00</div>
            </div>
        </div>
    </div>
</div>

<script>
    function update() {
        const now = new Date();
        const time = [now.getHours(), now.getMinutes(), now.getSeconds()].map(v => v.toString().padStart(2, '0'));
        updateGroup('h-group', time[0]);
        updateGroup('m-group', time[1]);
        updateGroup('s-group', time[2]);
        document.getElementById('dayName').textContent = now.toLocaleDateString('de-DE', { weekday: 'short' }).toUpperCase();
        document.getElementById('month').textContent = now.toLocaleDateString('de-DE', { month: 'short' }).toUpperCase();
        document.getElementById('dayNum').textContent = now.getDate().toString().padStart(2, '0');
    }

    function updateGroup(id, val) {
        const units = document.getElementById(id).querySelectorAll('.flip-unit');
        val.split('').forEach((digit, i) => {
            if (units[i].dataset.val !== digit) {
                const old = units[i].dataset.val || "0";
                const up = units[i].querySelector('.upper');
                const low = units[i].querySelector('.lower');
                const front = units[i].querySelector('.leaf-front');
                const back = units[i].querySelector('.leaf-back');

                units[i].classList.remove('flipping');
                void units[i].offsetWidth;

                front.textContent = old;
                back.textContent = digit;
                up.textContent = digit; 
                low.textContent = old; 

                units[i].classList.add('flipping');

                setTimeout(() => {
                    low.textContent = digit;
                }, 300);

                setTimeout(() => {
                    units[i].classList.remove('flipping');
                    front.textContent = digit;
                }, 600); 

                units[i].dataset.val = digit;
            }
        });
    }
    setInterval(update, 1000); update();
</script>
</body>
</html>
